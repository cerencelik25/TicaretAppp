@model List<SiparisListModel>
@{
    ViewData["Title"] = "GetSiparis";
}

<h1>Siparisler</h1>
<hr />
@foreach (var item in Model)
{
    <table class="table table-bordered table-sm mb-3">
        <thead class="bg-success text-white">
            <tr>
                <th colspan="2">Siparis Id: #@item.SiparisId</th>
                <th>Fiyat</th>
                <th>Adet</th>
            </tr>
        </thead>
        <tbody>
             @foreach (var siparisItem in item.SiparisItems)
             {
            <tr>
                <td style="width:60px">
                    <img src="~/img/@siparisItem.ImageUrl" alt="" width="50" />
                </td>
                <td>
                    @siparisItem.Name
                </td>
                <td>
                    @siparisItem.Fiyat
                </td>
                <td>
                    @siparisItem.Adet
                </td>
            </tr>
             }
        </tbody>
        <tfoot>
            <tr>
                <td colspan="2">Müsteri Adi:</td>
                <td>@item.KullaniciAd @item.KullaniciSoyad</td>
                <td rowspan="3">Toplam Tutar: @item.TotalPrice()</td>
            </tr>
            <tr>
                <td colspan="2">Adres:</td>
                <td>@item.Adres</td>
            </tr>
            <tr>
                <td colspan="2">Telefon:</td>
                <td>@item.Telefon</td>
            </tr>
            <tr>
                <td colspan="2">Odeme Bilgisi:</td>
                <td>@item.OdemeTipi</td>
            <tr>
                <td colspan="2">Odeme Durum:</td>
                <td>@item.SiparisDurum</td>
            </tr>
            </tr>
        </tfoot>
    </table>
}

